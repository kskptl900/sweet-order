<!DOCTYPE html>
<html lang="gu">
<head>
  <meta charset="UTF-8">
  <title>ркорлАркарк╛ркИ ркУрк░рлНркбрк░ рклрлЛрк░рлНрко</title>
  <style>
    body { font-family: Arial, sans-serif; background: #fff8f0; padding: 20px; }
    h2 { color: #c0392b; }
    label { display: block; margin-top: 10px; }
    input, button { padding: 8px; margin-top: 5px; width: 100%; max-width: 300px; }
    button { background: #c0392b; color: white; border: none; cursor: pointer; border-radius: 6px; }
    button:hover { background: #e74c3c; }
    #msg { margin-top: 15px; font-weight: bold; }
    a.whatsapp { display:inline-block; margin-top:10px; padding:8px 12px; background:#25D366; color:white; text-decoration:none; border-radius:6px; }
    a.whatsapp:hover { background:#1DA851; }
  </style>
</head>
<body>

  <h2>ЁЯНм ркорлАркарк╛ркИ ркорк╛ркЯрлЗ ркУркирк▓рк╛ркИрки ркУрк░рлНркбрк░</h2>

  <form id="orderForm">
    <label>ркирк╛рко:</label>
    <input type="text" id="name" required>

    <label>ркорлЛркмрк╛ркЗрк▓ ркиркВркмрк░:</label>
    <input type="text" id="mobile" required>

    <label>ркУрк░рлНркбрк░ рк╡рк┐ркЧркдрлЛ:</label>
    <input type="text" id="items" placeholder="ркЬрлЗрко ркХрлЗ рк▓рк╛ркбрлБ 1kg, рккрк╛рккркбрлА 0.5kg" required>

    <label>ркХрлБрк▓ рк░ркХрко (тВ╣):</label>
    <input type="number" id="amount" required>

    <button type="submit">тЬЕ ркУрк░рлНркбрк░ ркХркирлНрклрк░рлНрко ркХрк░рлЛ</button>
  </form>

  <div id="msg"></div>

  <script>
    const scriptURL = "https://script.google.com/macros/s/AKfycbxYo_yqZIpuS0mP3TidkBAzgWnoLdwYLWk233iv9pDIPmNaVzpYFggD9ni7gOht8c8z/exec";  // Replace with Apps Script Web App link

    document.getElementById("orderForm").addEventListener("submit", async (e) => {
      e.preventDefault();

      const orderData = {
        name: document.getElementById("name").value,
        mobile: document.getElementById("mobile").value,
        items: document.getElementById("items").value,
        totalAmount: document.getElementById("amount").value
      };

      try {
        const res = await fetch(scriptURL, {
          method: "POST",
          mode: "cors",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(orderData)
        });

        const data = await res.json();
        if (data.success) {
          document.getElementById("msg").innerHTML = 
            `ЁЯОЙ ркдркорк╛рк░рлЛ ркУрк░рлНркбрк░ ркХркирлНрклрк░рлНрко ркеркпрлЛ!<br>
             ЁЯУж ркУрк░рлНркбрк░ ркиркВркмрк░: <b>${data.orderId}</b><br>
             ЁЯТ░ рк░ркХрко: тВ╣${data.totalAmount}<br>
             <a class="whatsapp" target="_blank" href="${data.whatsappUrl}">ЁЯУ▓ WhatsApp ркХркирлНрклрк░рлНркорлЗрк╢рки ркорлЛркХрк▓рлЛ</a>`;
        } else {
          document.getElementById("msg").innerHTML = "тЪая╕П ркнрлВрк▓: " + data.error;
        }
      } catch (err) {
        document.getElementById("msg").innerHTML = "тЭМ ркирлЗркЯрк╡рк░рлНркХ ркнрлВрк▓: " + err;
      }
    });
  </script>

</body>
</html>
